# üßπ `sorted()` –∏ `filter()` ‚Äî —á–∏—Å—Ç—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

> üéØ –ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è:  
> –û–±–µ —Ñ—É–Ω–∫—Ü–∏–∏ **–Ω–µ –º–µ–Ω—è—é—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** ‚Äî –æ–Ω–∏ **—Å–æ–∑–¥–∞—é—Ç –Ω–æ–≤—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å**.  
> –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º.

---

## 1. `sorted()` ‚Äî –∞–∫–∫—É—Ä–∞—Ç–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

### üìò –ß—Ç–æ –¥–µ–ª–∞–µ—Ç
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫**, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).  
–†–∞–±–æ—Ç–∞–µ—Ç —Å *–ª—é–±—ã–º* –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–º –æ–±—ä–µ–∫—Ç–æ–º: —Å–ø–∏—Å–∫–æ–º, –∫–æ—Ä—Ç–µ–∂–µ–º, —Å—Ç—Ä–æ–∫–æ–π, –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º.

### üí° –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∏—à–∫–∏

```python
# –ü—Ä–æ—Å—Ç–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —á–∏—Å–µ–ª
nums = [5, 2, 9, 1]
print(sorted(nums))          # ‚Üí [1, 2, 5, 9]
print(nums)                  # ‚Üí [5, 2, 9, 1] ‚Äî –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è!

# –°—Ç—Ä–æ–∫–∏ ‚Äî –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É
words = ["–±–∞–Ω–∞–Ω", "—è–±–ª–æ–∫–æ", "–∞–ø–µ–ª—å—Å–∏–Ω"]
print(sorted(words))         # ‚Üí ['–∞–ø–µ–ª—å—Å–∏–Ω', '–±–∞–Ω–∞–Ω', '—è–±–ª–æ–∫–æ']

# –ü–æ —É–±—ã–≤–∞–Ω–∏—é
print(sorted(nums, reverse=True))  # ‚Üí [9, 5, 2, 1]
```

### üîë –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ ¬´–ø—Ä–∞–≤–∏–ª—É¬ª ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä `key`

–ß–∞—Å—Ç–æ –Ω—É–∂–Ω–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å **–Ω–µ –ø–æ —Å–∞–º–∏–º –∑–Ω–∞—á–µ–Ω–∏—è–º**, –∞ –ø–æ —á–µ–º—É-—Ç–æ *–≤–Ω—É—Ç—Ä–∏* –Ω–∏—Ö.

```python
# –ü–æ –¥–ª–∏–Ω–µ —Å—Ç—Ä–æ–∫–∏
words = ["–∫–æ—Ç", "—Å–ª–æ–Ω", "–≤–æ—Ä–æ–±–µ–π"]
print(sorted(words, key=len))      # ‚Üí ['–∫–æ—Ç', '—Å–ª–æ–Ω', '–≤–æ—Ä–æ–±–µ–π']

# –ü–æ –≤—Ç–æ—Ä–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –∫–æ—Ä—Ç–µ–∂–∞
students = [("–ê–Ω—è", 23), ("–ë–æ—Ä—è", 19), ("–í–µ—Ä–∞", 21)]
print(sorted(students, key=lambda x: x[1]))
# ‚Üí [('–ë–æ—Ä—è', 19), ('–í–µ—Ä–∞', 21), ('–ê–Ω—è', 23)]

# –°–ª–æ–≤–∞—Ä–∏ ‚Üí –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º –≤ —Å–ø–∏—Å–æ–∫ –ø–∞—Ä (key, value)
scores = {"–ê–Ω—è": 85, "–ë–æ—Ä—è": 92, "–í–µ—Ä–∞": 78}
# –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –±–∞–ª–ª–∞–º (–≤—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç –ø–∞—Ä—ã)
by_score = sorted(scores.items(), key=lambda item: item[1])
print(by_score)
# ‚Üí [('–í–µ—Ä–∞', 78), ('–ê–Ω—è', 85), ('–ë–æ—Ä—è', 92)]
```

> ‚úÖ `key` ‚Äî —ç—Ç–æ **—Ñ—É–Ω–∫—Ü–∏—è**, –∫–æ—Ç–æ—Ä–æ–π –¥–∞—é—Ç —ç–ª–µ–º–µ–Ω—Ç, –∞ –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ¬´–≤–µ—Å¬ª –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.  
> `lambda x: x[1]` —á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫: *¬´–≤–æ–∑—å–º–∏ —ç–ª–µ–º–µ–Ω—Ç `x`, –≤–µ—Ä–Ω–∏ –µ–≥–æ –≤—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç¬ª*.

> ‚ö†Ô∏è –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å: –µ—Å–ª–∏ –¥–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ ¬´—Ä–∞–≤–Ω—ã¬ª –ø–æ `key`, –∏—Ö –∏—Å—Ö–æ–¥–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.

---

## 2. `filter()` ‚Äî –æ—Ç–±–æ—Ä –ø–æ —É—Å–ª–æ–≤–∏—é

### üìò –ß—Ç–æ –¥–µ–ª–∞–µ—Ç
–û—Å—Ç–∞–≤–ª—è–µ—Ç **—Ç–æ–ª—å–∫–æ —Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã**, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö —É—Å–ª–æ–≤–∏–µ –∏—Å—Ç–∏–Ω–Ω–æ.  
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–∏—Ç–µ—Ä–∞—Ç–æ—Ä** ‚Äî –µ–≥–æ –Ω—É–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –≤ `list()`, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω —Å–ø–∏—Å–æ–∫.

### üí° –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∏—à–∫–∏

```python
# –ß—ë—Ç–Ω—ã–µ —á–∏—Å–ª–∞
nums = [1, 2, 3, 4, 5, 6]
evens = list(filter(lambda x: x % 2 == 0, nums))
print(evens)  # ‚Üí [2, 4, 6]

# –£–¥–∞–ª–∏—Ç—å "–ª–æ–∂–Ω—ã–µ" –∑–Ω–∞—á–µ–Ω–∏—è (0, "", None, [], {})
data = [0, "–ø—Ä–∏–≤–µ—Ç", "", None, 42, []]
clean = list(filter(None, data))  # ‚Üê None = "–æ—Å—Ç–∞–≤—å —Ç–æ–ª—å–∫–æ –∏—Å—Ç–∏–Ω–Ω—ã–µ"
print(clean)  # ‚Üí ['–ø—Ä–∏–≤–µ—Ç', 42]
```

### üõ† –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

```python
# –°—Ç—É–¥–µ–Ω—Ç—ã —Å –≤—ã—Å–æ–∫–∏–º –±–∞–ª–ª–æ–º
students = [
    {"name": "–ê–Ω—è", "score": 85},
    {"name": "–ë–æ—Ä—è", "score": 92},
    {"name": "–í–µ—Ä–∞", "score": 78}
]

high = list(filter(lambda s: s["score"] > 90, students))
print(high)
# ‚Üí [{'name': '–ë–æ—Ä—è', 'score': 92}]

# –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏ –Ω–µ–¥–æ—Ä–æ–≥–∏–µ —Ç–æ–≤–∞—Ä—ã
products = [
    {"name": "–Ω–æ—É—Ç–±—É–∫", "price": 1200, "in_stock": True},
    {"name": "–ø–ª–∞–Ω—à–µ—Ç", "price": 400, "in_stock": True},
    {"name": "—Ç–µ–ª–µ—Ñ–æ–Ω", "price": 800, "in_stock": False}
]

affordable = list(filter(
    lambda p: p["in_stock"] and p["price"] <= 500,
    products
))
print(affordable)
# ‚Üí [{'name': '–ø–ª–∞–Ω—à–µ—Ç', 'price': 400, 'in_stock': True}]
```

> ‚úÖ –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π ‚Äî –ª—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é:
> ```python
> def is_valid_email(s):
>     return "@" in s and "." in s.split("@")[-1]
>
> emails = ["a@b.c", "bad", "x@y.z"]
> good = list(filter(is_valid_email, emails))
> ```

> ‚ö†Ô∏è `filter()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–∏—Ç–µ—Ä–∞—Ç–æ—Ä** ‚Üí –µ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑**:
> ```python
> it = filter(lambda x: x > 0, [1, -1, 2])
> print(list(it))  # ‚Üí [1, 2]
> print(list(it))  # ‚Üí [] (—É–∂–µ –ø—É—Å—Ç!)
> ```

---

## üß© –ö–∞–∫ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å: `filter()` ‚Üí `sorted()`

–ß–∞—Å—Ç–æ –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ **–æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å**, –ø–æ—Ç–æ–º **–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å**.

```python
numbers = [15, 3, 8, 22, 7, 12, 45, 2]

# –ß—ë—Ç–Ω—ã–µ —á–∏—Å–ª–∞ ‚Üí –ø–æ —É–±—ã–≤–∞–Ω–∏—é
result = sorted(
    filter(lambda x: x % 2 == 0, numbers),
    reverse=True
)
print(result)  # ‚Üí [22, 12, 8, 2]
```

### üß™ –ü—Ä–∏–º–µ—Ä-–∑–∞–¥–∞—á–∞ (–±–µ–∑ –æ—Ç–≤–µ—Ç–∞):
> –î–∞–Ω —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤:  
> `students = [{"name": "–ê–Ω—è", "gpa": 4.2}, {"name": "–ë–æ—Ä—è", "gpa": 3.8}, {"name": "–í–µ—Ä–∞", "gpa": 4.5}]`  
>   
> –ù—É–∂–Ω–æ:  
> 1. –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ—Ö, —É –∫–æ–≥–æ `gpa > 4.0`  
> 2. –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –∏–º–µ–Ω–∏  
> 3. –í–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –∏–º—ë–Ω (—Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏)  
>   
> –ö–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –æ–¥–Ω–æ–π —Ü–µ–ø–æ—á–∫–æ–π?

*(–ü–æ–¥—Å–∫–∞–∑–∫–∞: `filter` ‚Üí `sorted` ‚Üí `map` –∏–ª–∏ —Å–ø–∏—Å–∫–æ–≤–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ)*

---

## ‚úÖ –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

| –ó–∞–¥–∞—á–∞ | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç |
|--------|-----------|
| –ù—É–∂–Ω–æ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Äî –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é, —É–±—ã–≤–∞–Ω–∏—é, –ø–æ –¥–ª–∏–Ω–µ, –ø–æ –ø–æ–ª—é | `sorted()` |
| –ù—É–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ ¬´–ø–æ–¥—Ö–æ–¥—è—â–∏–µ¬ª —ç–ª–µ–º–µ–Ω—Ç—ã | `filter()` |
| –ù—É–∂–Ω–æ –∏ —Ç–æ, –∏ –¥—Ä—É–≥–æ–µ | `sorted(filter(...))` |
| –ù—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å + –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å | –ª—É—á—à–µ —Å–ø–∏—Å–∫–æ–≤–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ: `[x.upper() for x in words if len(x) > 3]` |

> üí° **–°–æ–≤–µ—Ç –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö:**  
> –ù–∞—á–∏–Ω–∞–π —Å `list` + `for` + `if`, –∞ –ø–æ—Ç–æ–º –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ `filter`/`sorted`, –∫–æ–≥–¥–∞ –ø–æ–π–º—ë—à—å, **–∑–∞—á–µ–º** –æ–Ω–∏ –Ω—É–∂–Ω—ã.  
> –ò—Ö —Å–∏–ª–∞ ‚Äî –≤ **–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏** –∏ **—á–∏—Å—Ç–æ—Ç–µ** (–Ω–∏–∫–∞–∫–∏—Ö –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤!).
